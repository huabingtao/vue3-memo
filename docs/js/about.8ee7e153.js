"use strict";(self["webpackChunkvue3_todolist"]=self["webpackChunkvue3_todolist"]||[]).push([[443],{1801:function(t,i,e){e.r(i),e.d(i,{default:function(){return I}});var l=e(3396),s=e(4870),a=e(7742),o=e(7139),n=e(9242);const c={class:"list"},r={class:"list-content"},u={class:"check-box"},d={class:"checkbox-title"},v=(0,l._)("svg",{class:"icon svg-icon","aria-hidden":"true"},[(0,l._)("use",{"xlink:href":"#icon-flag-hui"})],-1);var g=(0,l.aZ)({props:{data:null,title:null,color:null},emits:["onToggleFinish","onViewDetail","onToggleFavorite","onDeleteMatter"],setup(t,{emit:i}){const e=(t,e)=>{i("onToggleFinish",t,e)},s=t=>{i("onViewDetail",t)},a=t=>{i("onToggleFavorite",t)},g=t=>{i("onDeleteMatter",t)};return(i,m)=>{const f=(0,l.up)("van-cell"),h=(0,l.up)("van-button"),F=(0,l.up)("van-swipe-cell"),p=(0,l.up)("van-checkbox-group"),w=(0,l.up)("van-empty");return(0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("div",{class:"list-title",style:(0,o.j5)({color:t.color})},(0,o.zw)(t.title),5),(0,l._)("div",r,[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n.W3,{name:"list",tag:"div"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.data,((t,i)=>((0,l.wg)(),(0,l.j4)(F,{key:t.id,class:"list-item"},{right:(0,l.w5)((()=>[(0,l.Wm)(h,{onClick:i=>s(t),class:"btn btn-detail",square:"",type:"primary",text:"详细信息"},null,8,["onClick"]),(0,l.Wm)(h,{onClick:i=>a(t.id),class:"btn btn-favorite",square:"",type:"primary",text:t.isFavorite?"取消旗标":"旗标"},null,8,["onClick","text"]),(0,l.Wm)(h,{onClick:i=>g(t.id),class:"btn btn-delete",square:"",type:"danger",text:"删除"},null,8,["onClick"])])),default:(0,l.w5)((()=>[(0,l.Wm)(f,{onClick:l=>e(t,i)},(0,l.Nv)({title:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("span",{class:(0,o.C_)(["checkbox-icon",t.isFinish?"is-active":""])},null,2),(0,l._)("span",d,(0,o.zw)(t.title),1)])])),_:2},[t.isFavorite?{name:"right-icon",fn:(0,l.w5)((()=>[v]))}:void 0]),1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1}),t.data.length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(w,{key:0,description:"暂无事项"}))])])}}});const m=g;var f=m,h=e(7488),F=e(7627),p=e(65),w=e(678),S=e(8144),k=e(5466);const y={class:"detail-container"};var b=(0,l.aZ)({setup(t){const i=(0,p.oR)(F.J),e=(0,s.iH)(null),o=(0,w.yj)();let n=(0,s.iH)([]),c=(0,s.iH)(""),r=(0,s.iH)(""),u=(0,s.iH)(""),d=(0,s.iH)(!1),v=(0,s.iH)("");const g=(0,s.iH)(null),m=Number(o.query?.status),b=(0,l.Fl)((()=>i.state.todolist)),x=(0,l.Fl)((()=>i.state.finishlist));(0,l.YP)([b,x],(()=>{T()}));const I=(t,e)=>{if(m===S.w.Todo){const l=b.value.slice();l.splice(e,1),localStorage.setItem(k.ib,JSON.stringify(l)),t.isFinish=!0,localStorage.setItem(k.A3,JSON.stringify([...x.value,t])),i.commit("setTodolist",l),i.commit("setFinishlist",[...x.value,t])}if(m===S.w.Finish){const l=x.value.slice();l.splice(e,1),t.isFinish=!1;const s=[t,...b.value];localStorage.setItem(k.A3,JSON.stringify(l)),localStorage.setItem(k.ib,JSON.stringify(s)),i.commit("setTodolist",s),i.commit("setFinishlist",l)}if(m===S.w.All||m===S.w.Flag){const{isFinish:e,id:l}=t,s=b.value.slice(),a=x.value.slice();if(e){const i=a.findIndex((t=>t.id===l));a.splice(i,1),t.isFinish=!1,s.unshift(t)}else{const i=s.findIndex((t=>t.id===l));s.splice(i,1),t.isFinish=!0,a.unshift(t)}localStorage.setItem(k.ib,JSON.stringify(s)),localStorage.setItem(k.A3,JSON.stringify(a)),i.commit("setTodolist",s),i.commit("setFinishlist",a)}},T=()=>{switch(m){case S.w.Todo:c="待办",v="#316af6",n=(0,l.Fl)((()=>i.state.todolist));break;case S.w.Finish:c="已完成",v="#2c922cde",n=(0,l.Fl)((()=>i.state.finishlist));break;case S.w.All:c="全部",v="#5d6268",n.value=[...(0,l.Fl)((()=>i.state.todolist)).value,...(0,l.Fl)((()=>i.state.finishlist)).value];break;default:c="旗标",v="#ea8f2f";const t=(0,l.Fl)((()=>i.state.todolist)),e=(0,l.Fl)((()=>i.state.finishlist)),s=[...t.value,...e.value];n.value=s.filter((t=>t.isFavorite));break}};T();const O=()=>{g.value={id:0,title:"",description:"",isFavorite:"3"===o.query.status,isFinish:!1,isTrash:!1},r.value="新建事项",u.value="添加",d.value=!1,e?.value?.show()},_=t=>{g.value={...t},r.value="详细信息",u.value="完成",d.value=!0,e?.value?.show()},C=t=>{const e=b.value.slice(),l=x.value.slice(),s=e.findIndex((i=>i.id===t)),a=l.findIndex((i=>i.id===t));s>-1&&(e[s].isFavorite=!e[s].isFavorite,localStorage.setItem(k.ib,JSON.stringify(e)),i.commit("setTodolist",e)),a>-1&&(l[a].isFavorite=!l[a].isFavorite,localStorage.setItem(k.A3,JSON.stringify(l)),i.commit("setFinishlist",l))},N=t=>{const e=b.value.slice(),l=x.value.slice(),s=e.findIndex((i=>i.id===t)),a=l.findIndex((i=>i.id===t));s>-1&&(e.splice(s,1),localStorage.setItem(k.ib,JSON.stringify(e)),i.commit("setTodolist",e)),a>-1&&(l.splice(a,1),localStorage.setItem(k.A3,JSON.stringify(l)),i.commit("setFinishlist",l))};return(t,i)=>((0,l.wg)(),(0,l.iD)("div",y,[(0,l.Wm)(f,{data:(0,s.SU)(n),onOnToggleFinish:I,onOnViewDetail:_,onOnToggleFavorite:C,onOnDeleteMatter:N,title:(0,s.SU)(c),color:(0,s.SU)(v)},null,8,["data","title","color"]),0===(0,s.SU)(m)||3===(0,s.SU)(m)?((0,l.wg)(),(0,l.j4)(a.Z,{key:0,color:(0,s.SU)(v),onOnClick:O},null,8,["color"])):(0,l.kq)("",!0),(0,l.Wm)(h.Z,{ref_key:"createRef",ref:e,data:g.value,title:(0,s.SU)(r),rightBtnText:(0,s.SU)(u),isEdit:{isEdit:(0,s.SU)(d)}},null,8,["data","title","rightBtnText","isEdit"])]))}});const x=b;var I=x}}]);
//# sourceMappingURL=about.8ee7e153.js.map